name: Debug JSON Config

on:
  workflow_dispatch:

jobs:
  debug:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repo
        uses: actions/checkout@v3

      - name: Show repo structure
        run: |
          echo "üìÇ Current Path: $(pwd)"
          echo "üìÇ Repo files:"
          ls -R || true
          echo "üìÇ Check configs folder:"
          ls -R .github/configs || true

      - name: Show a06.json content
        run: |
          CONFIG_FILE=".github/configs/a06.json"
          if [ ! -f "$CONFIG_FILE" ]; then
            echo "‚ùå Config file not found: $CONFIG_FILE"
            exit 1
          fi
          echo "===== FILE CONTENT ====="
          cat "$CONFIG_FILE"
          echo "===== END CONTENT ====="

      - name: Validate JSON with jq
        run: |
          CONFIG_FILE=".github/configs/a06.json"
          echo "üîç Validating JSON..."
          jq . "$CONFIG_FILE"
          echo "‚úÖ JSON is valid!"
